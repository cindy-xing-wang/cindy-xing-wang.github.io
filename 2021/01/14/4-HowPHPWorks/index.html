<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.4.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.4.0" type="image/png" sizes="32x32"><meta name="description" content="PHP&#x2F; PHP runtimes &#x2F;Web server       We can write PHP files in a text editor without downloading anything. The reason we usually download Xammp, or whatsoever is because we need to">
<meta property="og:type" content="article">
<meta property="og:title" content="How PHP files work?">
<meta property="og:url" content="http://example.com/2021/01/14/4-HowPHPWorks/index.html">
<meta property="og:site_name" content="Cindy&#39;s Blog">
<meta property="og:description" content="PHP&#x2F; PHP runtimes &#x2F;Web server       We can write PHP files in a text editor without downloading anything. The reason we usually download Xammp, or whatsoever is because we need to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://code-boxx.com/wp-content/uploads/2019/02/xampp-hello.jpg">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/c/cb/Zend.01-internal-structure.png">
<meta property="og:image" content="http://example.com/img/zendvm-no-opcache.png">
<meta property="og:image" content="https://thephp.website/assets/images/posts/10-php-8-jit/zendvm-opcache.png">
<meta property="article:published_time" content="2021-01-14T01:01:07.920Z">
<meta property="article:modified_time" content="2021-01-14T02:20:36.990Z">
<meta property="article:author" content="Cindy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://code-boxx.com/wp-content/uploads/2019/02/xampp-hello.jpg"><title>How PHP files work? | Cindy's Blog</title><link ref="canonical" href="http://example.com/2021/01/14/4-HowPHPWorks/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.4.0"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Cindy's Blog</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">How PHP files work?</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2021-01-14</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2021-01-14</span></span></div></header><div class="post-body">
        <h3 id="PHP-PHP-runtimes-Web-server"   >
          <a href="#PHP-PHP-runtimes-Web-server" class="heading-link"><i class="fas fa-link"></i></a>PHP/ PHP runtimes /Web server</h3>
      <p>We can write PHP files in a text editor without downloading anything. The reason we usually download Xammp, or whatsoever is because we need to run PHP files to see the results. There are 2 ways to run PHP code:</p>

        <h4 id="1-To-show-the-results-on-a-browser"   >
          <a href="#1-To-show-the-results-on-a-browser" class="heading-link"><i class="fas fa-link"></i></a>1). To show the results on a browser</h4>
      <p>This is a common way to run PHP code. That is why we need to set up a web server on our local machine and what I use is Xammp. The web server is Apache here. There are lots of other web servers we can use as well, like Nginx, IIS. However, it does not mean that web server can run the PHP code. When the web server encounter PHP files, it will call PHP runtime to run the code and return the output, for example HTML files, as part of response to the browser. The official PHP runtime is Zend Engine. There are other PHP runtimes, like Phalanger.</p>
<p><img src="https://code-boxx.com/wp-content/uploads/2019/02/xampp-hello.jpg" alt="View PHP results from the browser"><br>(View running PHP file results from the browser)</p>

        <h4 id="2-To-show-the-results-on-the-terminal"   >
          <a href="#2-To-show-the-results-on-the-terminal" class="heading-link"><i class="fas fa-link"></i></a>2). To show the results on the terminal</h4>
      <p>This is to explain that PHP code can be not associated with a web server. We still need to download PHP to run PHP code. A lazy way would be still using Xammp as it already has PHP inside, but do not start Apache web server. Then we can run PHP file using CLI.</p>
<figure class="highlight plain"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># test.php</span><br><span class="line">&lt;?php</span><br><span class="line">echo &quot;Hello World&quot;;</span><br></pre></td></tr></table></div></figure>
<figure class="highlight plain"><figcaption><span>Line'</span></figcaption><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">E:\&gt;php test.php</span><br><span class="line">Hello World!</span><br></pre></td></tr></table></div></figure>

        <h3 id="PHP-8-has-JIT-compiler-now"   >
          <a href="#PHP-8-has-JIT-compiler-now" class="heading-link"><i class="fas fa-link"></i></a>PHP 8 has JIT compiler now</h3>
      <p>PHP is a server-side scripting language similar to JavaScript which is a client-side scripting language. They are interpreted language, which means they need an interpreter or virtual machine to translate the language into different machine code depending on which system it is running on.  </p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/c/cb/Zend.01-internal-structure.png" alt="Zend Engine interal structure"><br><em>Zend Engine interal structure</em></p>
<p>This makes the interpreted language less performance and freedom when compared with compiled languages which can be compiled beforehand. Similar to powerful JavaScript engine Chrome V8, PHP 8 Zend engine uses JIT compilation to compile part of the PHP code, so the Zend virtual machine does not need to interpreter this part of code anymore. The rest of the code still need to wait the virtual machine to specify the operating system before interpreting them. Here is the illustration about how PHP works with and without JIT.</p>
<p>PHP works without JIT:<br><img src="/img/zendvm-no-opcache.png" alt="PHP works without JIT"></p>
<p>PHP works with JIT:<br><img src="https://thephp.website/assets/images/posts/10-php-8-jit/zendvm-opcache.png" alt="PHP works with JIT"></p>

        <h4 id="References"   >
          <a href="#References" class="heading-link"><i class="fas fa-link"></i></a>References</h4>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://code-boxx.com/how-to-run-php-script-sapi-cli/" >https://code-boxx.com/how-to-run-php-script-sapi-cli/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://thephp.website/en/issue/php-8-jit/" >https://thephp.website/en/issue/php-8-jit/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Zend_Engine#:~:text=The%20Zend%20Engine%20is%20the,Technologies%20in%20Ramat%20Gan%2C%20Israel" >https://en.wikipedia.org/wiki/Zend_Engine#:~:text=The%20Zend%20Engine%20is%20the,Technologies%20in%20Ramat%20Gan%2C%20Israel</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="http://example.com">Cindy</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="http://example.com/2021/01/14/4-HowPHPWorks/">http://example.com/2021/01/14/4-HowPHPWorks/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><nav class="post-paginator paginator"><div class="paginator-next"><a class="paginator-next__link" href="/2021/01/04/3-USB/"><span class="paginator-prev__text">USB ports and USB cables</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#PHP-PHP-runtimes-Web-server"><span class="toc-number">1.</span> <span class="toc-text">
          PHP&#x2F; PHP runtimes &#x2F;Web server</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-To-show-the-results-on-a-browser"><span class="toc-number">1.1.</span> <span class="toc-text">
          1). To show the results on a browser</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-To-show-the-results-on-the-terminal"><span class="toc-number">1.2.</span> <span class="toc-text">
          2). To show the results on the terminal</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PHP-8-has-JIT-compiler-now"><span class="toc-number">2.</span> <span class="toc-text">
          PHP 8 has JIT compiler now</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#References"><span class="toc-number">2.1.</span> <span class="toc-text">
          References</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">hello world</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">4</div><div class="sidebar-ov-state-item__name">Archives</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Cindy</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v5.3.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.4.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.4.0"></script><script src="/js/stun-boot.js?v=2.4.0"></script><script src="/js/scroll.js?v=2.4.0"></script><script src="/js/header.js?v=2.4.0"></script><script src="/js/sidebar.js?v=2.4.0"></script></body></html>